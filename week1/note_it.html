<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Note it App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bitter:wght@500&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css"/>
    <script>
        function saveNote(){
  		let currentDateAndTime = new Date()
  		let aNoteDescription = document.getElementById("description_input").value
  		let aNoteText = document.getElementById("note_editor").value
  		let aCompleteNote = currentDateAndTime.toLocaleString() + "--" + aNoteDescription
  		aCompleteNote += `<p> ${aNoteText}</p>`;
		let storedNotesString = localStorage.getItem("all_notes")
		let allNotes = JSON.parse(storedNotesString)
		if(allNotes == null){
			allNotes = []
		}
		allNotes.push(aCompleteNote)
		let allNotesString = JSON.stringify(allNotes)
		localStorage.setItem("all_notes",allNotesString)
		showAllNotes()
		document.getElementById("description_input").value = null
		document.getElementById("note_editor").value = null
  	}
    function showAllNotes(){
		var storedNotesString = localStorage.getItem("all_notes")
		allNotes = JSON.parse(storedNotesString)
		if (allNotes != null){
	  		var noteDisplayer = document.getElementById("all_notes_display")
	  		noteDisplayer.innerHTML = null
	  		var numberOfNotes = allNotes.length
	  		for (var i = 0; i < allNotes.length; i++) {
	  			var aNote = allNotes[i]
	  			noteDisplayer.innerHTML += `<hr><p>${aNote}</p>`;
	  		}
	  	}
  	}
    </script>
     <style>
 body{
 background-color: rgb(247, 196, 162);
 }
 #note_entry_area{
     min-width: 320px;
     max-width: 80%;
     padding: 20px;
     border: none;
     border-radius: 5px;
     box-shadow: 0 0 5px #666 inset;
 }
 textarea{
  margin-top: 10px;
  border: none;
  border-radius: 5px;
  box-shadow: 0 0 5px #666 inset;
  width: 95%;
  height: 150px;
  text-indent: 5px;
  padding: 5px;
 }
    </style>
</head>
<body onload="showAllNotes()">
   <header>
        <h1 class="title">WDD 330 Front-end Web Development II </h1>
        <h2>Millie's Portfolio Site</h2>
      </header>
          <main class="maingrid">
            <p><a href="../index.html" class="backto"><< Back</a></p>
              <h3 class="heading_title">Week 1 - Practice Exercises</h3>

	<section id="note_entry_area">
		<h1>Note It!</h1>
		Description: <input id="description_input"></input>
        <br/><br/>
		<textarea id="note_editor" placeholder="Note it down. Don't forget."></textarea>
		<br>
		<button onclick="saveNote()">Save</button>
	</section>
	<section id="all_notes_display"></section>
    </main>
    <footer>Millie Swain, WDD 330 Web Front-end Development II</footer>
</body>
</html>